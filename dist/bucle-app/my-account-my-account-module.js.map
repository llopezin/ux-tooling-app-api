{"version":3,"sources":["./src/app/my-account/my-account-routing.module.ts","./src/app/my-account/my-account.module.ts","./src/app/my-account/my-account.component.ts","./src/app/my-account/my-account.component.html","./src/app/my-account/services/my-account.service.ts","./src/app/my-account/components/invite-user/invite-user.component.ts","./src/app/my-account/components/invite-user/invite-user.component.html"],"names":[],"mappings":"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","file":"my-account-my-account-module.js","sourcesContent":["import { RouterModule, Routes } from \"@angular/router\";\n\nimport { NgModule } from \"@angular/core\";\nimport { MyAccountComponent } from \"./my-account.component\";\n\nconst routes: Routes = [\n{ path: \"\", component: MyAccountComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyAccountRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InviteUserComponent } from './components/invite-user/invite-user.component';\nimport { MyAccountComponent } from './my-account.component';\nimport {MyAccountRoutingModule} from './my-account-routing.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MyAccountService } from './services/my-account.service';\n\n\n\n@NgModule({\n  declarations: [InviteUserComponent, MyAccountComponent],\n  imports: [\n    CommonModule, MyAccountRoutingModule, FormsModule, ReactiveFormsModule\n  ],\n  providers: [MyAccountService]\n})\nexport class MyAccountModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-my-account',\n  templateUrl: './my-account.component.html',\n  styleUrls: ['./my-account.component.css']\n})\nexport class MyAccountComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"[ p-5 ]\">\n  \n    <h1 class=\"[ heading__secondary ]\">My Account</h1>\n    \n    <app-invite-user></app-invite-user>\n\n</div>","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {UserStoreService} from 'src/app/shared/services/user-store.service';\r\nimport { User } from 'src/app/user/models/user';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MyAccountService {\r\n\r\n  private API_ENDPOINT = \"/api\"; //add endpoint here when api is deployed\r\n  \r\n\r\n  constructor(private http: HttpClient, private userStore: UserStoreService) { }\r\n\r\n  postInvitedUser(email):  Observable<User> {\r\n    const token = this.userStore.token;\r\n    const headers = new HttpHeaders({ 'Authorization': `Bearer ${token}` });\r\n    const endpoint = `${this.API_ENDPOINT}/invited-users`;\r\n    const workspace_id = this.userStore.workspace\r\n\r\n    return this.http.post<User>(endpoint, {email, workspace_id}, { headers }) \r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { MyAccountService } from '../../services/my-account.service';\n\n@Component({\n  selector: 'app-invite-user',\n  templateUrl: './invite-user.component.html',\n  styleUrls: ['./invite-user.component.css']\n})\n\nexport class InviteUserComponent {\n\n  public inviteUserForm: FormGroup;\n  public postingInvitation: boolean;\n  public invitationPosted: boolean;\n\n  constructor(private fb: FormBuilder, private accountService: MyAccountService, private router: Router) {\n    this.createForm();\n  }\n\n  createForm() {\n    this.inviteUserForm = this.fb.group({\n      email: [\"\", [Validators.required, Validators.email]]\n    });\n  }\n\n  onSubmit() {\n    if (!this.inviteUserForm.valid) return\n\n    const email = this.inviteUserForm.value.email\n    this.postingInvitation = true\n\n    this.accountService.postInvitedUser(email).subscribe(res => { \n      this.postingInvitation = false \n      this.invitationPosted = res.email !== null\n      setTimeout(()=>{this.navigateToCampaigns()}, 2000)\n    })\n  }\n\n  navigateToCampaigns() {\n    this.router.navigate([`campaigns`]);\n  }\n\n}\n","<div class=\"[ mt-8 p-8 ] [ shadow-lg rounded-lg ] [ bg-background ]\">\n\n    <h2 class=\"[ my-4 ] [ heading__secondary text-md ]\">Add member</h2>\n    <p>Members added to this workspace will be able to access and edit all campaigns.</p>\n\n    <form (ngSubmit)=\"onSubmit()\" [formGroup]=\"inviteUserForm\">\n\n        <!-- invited user mail -->\n        <div class=\"[ my-4 ]\">\n            <label class=\"[ m-2 ]\" for=\"email\">Email:</label>\n            <input class=\"[ input__primary ] [ mt-1 ]\" id=\"email\" type=\"text\" placeholder=\"email\" required name=\"email\"\n                formControlName=\"email\" />\n            <div *ngIf=\"(inviteUserForm.get('email').dirty)\">\n                <div *ngIf=\"inviteUserForm.get('email').errors?.email\">Invalid email</div>\n                <div *ngIf=\"inviteUserForm.get('email').errors?.required\">Email is required</div>\n            </div>\n        </div>\n\n        <div class=\"[ w-full text-right mt-8 ]\">\n            <button class=\"[ btn ] [ gradient-bg text-white text-xl font-bold hover:shadow-xl ]\" type=\"submit\">Add\n                member</button>\n        </div>\n\n    </form>\n\n</div>\n\n<div class=\"[ overlay__white ]\" *ngIf=\"postingInvitation || invitationPosted\">\n    \n        \n    <div class=\"[ flex flex-col items-center ]\" *ngIf=\"postingInvitation\">\n        <div  class=\"lds-facebook\"><div></div><div></div><div></div></div>\n        <p class=\"[ text-4xl font-bold ]\">Inviting new member</p>\n    </div>\n\n    <div class=\"[ flex flex-col items-center ]\" *ngIf=\"invitationPosted\">\n        <span class=\"[ text-6xl font-bold text-green-400 ]\">âœ”</span>\n        <p class=\"[ text-4xl font-bold ]\">Member inviteded</p>\n    </div>\n\n\n</div>"],"sourceRoot":"webpack:///"}